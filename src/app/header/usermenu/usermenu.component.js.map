{"version":3,"file":"usermenu.component.js","sourceRoot":"","sources":["usermenu.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAEhD,uCAAoC,8CAA8C,CAAC,CAAA;AA2DnF;IAGI,2BAAoB,qBAA2C;QAA3C,0BAAqB,GAArB,qBAAqB,CAAsB;IAC/D,CAAC;IAED,oCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC;IACvD,CAAC;IAED,2CAAe,GAAf;QACI,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC;IAC7B,CAAC;IAED,6CAAiB,GAAjB,UAAkB,QAAe;QAC7B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC;IAC3C,CAAC;IAED,0CAAc,GAAd,UAAe,QAAe;QAC1B,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC/D,CAAC;IAED,kCAAM,GAAN;QACI,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;IACxC,CAAC;IAjFL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,w7CAgCR;YACF,MAAM,EAAE;gBACJ,67DAiB+C;aAClD;YACD,MAAM,EAAE,CAAC,MAAM,CAAC;SACnB,CAAC;;yBAAA;IA2BF,wBAAC;AAAD,CAAC,AA1BD,IA0BC;AA1BY,yBAAiB,oBA0B7B,CAAA","sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\nimport {User} from \"../../shared/model/user\";\r\nimport {AuthenticationService} from \"../../shared/services/authentication.service\";\r\n\r\n@Component({\r\n    selector: 'pb-usermenu',\r\n    template: `<ul class=\"usermenu\">\r\n    <li class=\"user-actions\" *ngIf=\"!isAuthenticated()\">\r\n        <h2>\r\n            <a href=\"#/login\" i18n=\"Login\">Login</a>\r\n        </h2>\r\n        <ul>\r\n            <li>\r\n              <span class=\"user-role\" i18n=\"general-switch-language\">\r\n                <span i18n=\"Switch language\">Switch language</span>\r\n                <span><a *ngIf=\"!isCurrentLanguage('nl')\" (click)=\"changeLanguage('nl')\" i18n=\"Dutch\">Dutch</a></span>\r\n                <span><a *ngIf=\"!isCurrentLanguage('en')\" (click)=\"changeLanguage('en')\" i18n=\"English\">English</a></span>\r\n              </span>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n\r\n    <li class=\"user-actions\" *ngIf=\"isAuthenticated()\">\r\n        <h2>{{user.name}}</h2>\r\n        <ul>\r\n            <li>\r\n                <span class=\"user-organisation\">{{user.organisation}}</span>\r\n            </li>\r\n            <li>\r\n                <span class=\"user-role\">\r\n                    <span i18n=\"Switch language\">Switch language</span>\r\n                    <span><a *ngIf=\"user.language!=='nl'\" (click)=\"changeLanguage('nl')\" i18n=\"Dutch\">Dutch</a></span>\r\n                    <span><a *ngIf=\"user.language!=='en'\" (click)=\"changeLanguage('en')\" i18n=\"English\">English</a></span>\r\n                </span>\r\n            </li>\r\n            <li class=\"logout\"><a (click)=\"logout()\" i18n=\"Log out\">Log out</a></li>\r\n        </ul>\r\n    </li>\r\n</ul>`,\r\n    styles: [\r\n        `.usermenu {  float: right;}\r\n        .usermenu li {  float: left;  margin: 0;}\r\n        .usermenu h2 a {  color: #FFF;  background-color: transparent;}\r\n        .usermenu li h2 {  display: block;  color: #FFF;  padding: 21px 10px;  font-size: 13px;  -webkit-transition: All 0s ease;  -moz-transition: All 0s ease;  -o-transition: All 0s ease;  transition: All 0s ease;  text-decoration: none;  cursor: pointer;}\r\n        .usermenu li a:hover, .usermenu li:hover, .usermenu li:hover a, .usermenu li:hover h2 {  color: #333;  background-color: #FFF;}\r\n        .user-actions {  width: 180px;  padding-right: 20px;  position: relative;  background: transparent url(\"images/white_down_arrow.gif\") no-repeat 172px center;}\r\n        .user-actions:hover {  background: transparent url(\"images/down_arrow.gif\") no-repeat 172px center;}\r\n        .user-actions h2 {  margin: 0;  font-size: 13px;  border: none;  color: #FFF;  text-transform: capitalize;  line-height: 8px;}\r\n        .user-actions .user-organisation {  display: block;  margin: 0 10px 0;  font-size: 12px;  color: #666;}\r\n        .user-actions .user-role {  display: block;  margin: 0 10px 5px;  font-size: 11px;  color: #999;  font-weight: normal;}\r\n        .user-actions .logout{  border-top: solid 1px #CCC;  padding: 10px 0 0 0;}\r\n        .user-actions h2,.user-actions .user-organisation,.user-actions .user-role { position: relative;  overflow: hidden;  text-overflow: ellipsis;  white-space: nowrap;}\r\n        .user-role span{  display: block;}\r\n        .user-actions ul {  display: none;  width: 100%;  position: absolute;  background: #FFF;  right: 0;  z-index: 9999;  border-bottom: solid 2px #999;  box-shadow: 0 5px 5px #666;}\r\n        .user-actions:hover ul {  display: block;}\r\n        .user-actions ul li {  margin: 0;  float: none;}\r\n        .user-actions li a {  padding: 5px;  margin: 5px 10px;  font-size: 12px;  color: #333;  display: inherit;}\r\n        .user-actions li a:hover {  background: #DDD;}`\r\n    ],\r\n    inputs: ['user']\r\n})\r\nexport class UsermenuComponent implements OnInit {\r\n    public user:User;\r\n\r\n    constructor(private authenticationService:AuthenticationService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.user = this.authenticationService.currentUser;\r\n    }\r\n\r\n    isAuthenticated() {\r\n        return this.user != null;\r\n    }\r\n\r\n    isCurrentLanguage(language:String) {\r\n        return this.user.language === language;\r\n    }\r\n\r\n    changeLanguage(language:string) {\r\n        this.authenticationService.currentUser.language = language;\r\n    }\r\n\r\n    logout() {\r\n        this.authenticationService.logout();\r\n    }\r\n\r\n}\r\n"]}